<!DOCTYPE html>

<html lang="zh">
<head>
<meta charset="utf-8"/>
<title>Route Analysis</title>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<!-- ç«™ç‚¹æ ·å¼ï¼ˆå’Œ index å¯¹é½çš„å¤´éƒ¨/åº•éƒ¨æ ·å¼ï¼‰ -->
<link href="style.css" rel="stylesheet"/>
<!-- åˆ†æé¡µæ ·å¼ï¼ˆå«ç­›é€‰å™¨ã€å¤šé€‰ msã€è¡¨æ ¼é…è‰²ç­‰ï¼‰ -->
<link href="analytics.css" rel="stylesheet"/>
<!-- PapaParse / Chart.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4"></script>
</head>
<body data-mode="route"><!-- å½“å‰é¡µæŒ‰â€œçº¿è·¯ç»´åº¦â€é»˜è®¤æ¸²æŸ“å¸æœºåˆ†å¸ƒé¥¼å›¾ -->
<header class="site-header"><div class="header-container"><div class="header-left"><a class="brand" href="index.html"><img alt="Logo" class="header-logo" src="logo.png"/></a></div><div class="header-center"> ğŸ” Tracking System -- Route Analysis</div><nav class="header-right"><a class="nav-link" href="index.html"> ğŸ“¦ Order List</a><a class="nav-link" href="drivers_analytics.html"> ğŸšš Driver Analysis</a><a aria-current="page" class="nav-link   a c t i v e" href="routes_analytics.html"> ğŸ” Route Analysis</a></nav></div><div class="header-meta"><div id="refresh-info">æ›´æ–°äº: --</div></div></header>
<!-- === ç»Ÿä¸€çš„ç­›é€‰å™¨åŒºï¼ˆä»…ä¸€ä»½ï¼‰ === -->
<section class="container" id="filters">
<label>
      Warehouse:
      <select id="warehouseSelect"><option value="">ALL</option></select>
</label>
<!-- DSP å¤šé€‰ -->
<label class="ms-field">
      DSP:
      <select id="dspSelect" style="display:none"><option value="">å…¨éƒ¨</option></select>
<div class="ms" id="dspMS">
<button class="ms-toggle" type="button">å…¨éƒ¨
          <svg aria-hidden="true" class="ms-caret" height="14" viewbox="0 0 20 20" width="14"><path d="M5 7l5 6 5-6" fill="currentColor"></path></svg>
</button>
<div class="ms-panel" hidden="">
<div class="ms-head">
<a data-act="selectAll" href="#">Select all</a><span> - </span>
<a data-act="clear" href="#">Clear</a>
<span class="ms-count">Displaying 0</span>
</div>
<div class="ms-search">
<input class="ms-input" placeholder="Search..." type="text"/>
<svg aria-hidden="true" class="ms-icon" height="16" viewbox="0 0 24 24" width="16"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79L20 21.49 21.49 20l-5.99-6zM9.5 14C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="currentColor"></path></svg>
</div>
<div class="ms-list"></div>
</div>
</div>
</label>
<!-- çº¿è·¯ å¤šé€‰ -->
<label class="ms-field">
      Route:
      <select id="routeSelect" style="display:none"><option value="">ALL</option></select>
<div class="ms" id="routeMS">
<button class="ms-toggle" type="button">å…¨éƒ¨
          <svg aria-hidden="true" class="ms-caret" height="14" viewbox="0 0 20 20" width="14"><path d="M5 7l5 6 5-6" fill="currentColor"></path></svg>
</button>
<div class="ms-panel" hidden="">
<div class="ms-head">
<a data-act="selectAll" href="#">Select all</a><span> - </span>
<a data-act="clear" href="#">Clear</a>
<span class="ms-count">Displaying 0</span>
</div>
<div class="ms-search">
<input class="ms-input" placeholder="Search..." type="text"/>
<svg aria-hidden="true" class="ms-icon" height="16" viewbox="0 0 24 24" width="16"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79L20 21.49 21.49 20l-5.99-6zM9.5 14C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="currentColor"></path></svg>
</div>
<div class="ms-list"></div>
</div>
</div>
</label>
<!-- çŠ¶æ€ç  å¤šé€‰ -->
<label class="ms-field">
      Latest Status:
      <select id="statusSelect" style="display:none"><option value="">ALL</option></select>
<div class="ms" id="statusMS">
<button class="ms-toggle" type="button">ALL
          <svg aria-hidden="true" class="ms-caret" height="14" viewbox="0 0 20 20" width="14"><path d="M5 7l5 6 5-6" fill="currentColor"></path></svg>
</button>
<div class="ms-panel" hidden="">
<div class="ms-head">
<a data-act="selectAll" href="#">Select all</a><span> - </span>
<a data-act="clear" href="#">Clear</a>
<span class="ms-count">Displaying 0</span>
</div>
<div class="ms-search">
<input class="ms-input" placeholder="Search..." type="text"/>
<svg aria-hidden="true" class="ms-icon" height="16" viewbox="0 0 24 24" width="16"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79L20 21.49 21.49 20l-5.99-6zM9.5 14C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="currentColor"></path></svg>
</div>
<div class="ms-list"></div>
</div>
</div>
</label>
<label>
      Driver id:
      <input id="driverInput" placeholder="Enter driver id"/>
</label>
<!-- å¤©æ•°å·® å¤šé€‰ï¼ˆå›ºå®šæ¡£ä½ï¼‰ -->
<label class="ms-field">
      #Days since last update:
      <select id="daysBucketSelect" style="display:none">
<option value="all">ALL</option>
<option value="&lt;0">Less than 0 days (discontinued)</option>
<option value="&lt;1">Less than 1 day</option>
<option value="1">1 day</option>
<option value="2">2 days</option>
<option value="3">3 days</option>
</select>
<div class="ms" id="daysMS">
<button class="ms-toggle" type="button">ALL
          <svg aria-hidden="true" class="ms-caret" height="14" viewbox="0 0 20 20" width="14">
<path d="M5 7l5 6 5-6" fill="currentColor"></path>
</svg>
</button>
<div class="ms-panel" hidden="">
<div class="ms-head">
<a data-act="selectAll" href="#">Select all</a><span> - </span>
<a data-act="clear" href="#">Clear</a>
<span class="ms-count">Displaying 0</span>
</div>
<div class="ms-search">
<input class="ms-input" placeholder="Search..." type="text">
<svg aria-hidden="true" class="ms-icon" height="16" viewbox="0 0 24 24" width="16">
<path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 
                6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79L20 
                21.49 21.49 20l-5.99-6zM9.5 14C7.01 14 5 11.99 5 
                9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="currentColor"></path>
</svg>
</input></div>
<div class="ms-list"></div>
</div>
</div>
</label>
<!-- ç¬¬äºŒæ’æŒ‰é’® -->
<div class="btn-group">
<button id="refreshBtn">Refresh</button>
<button id="copyOrdersBtn" title="å¤åˆ¶å½“å‰é¡µé¢å¯è§è¡Œçš„å•å·">Copy</button>
</div>
</section>
<main class="container">
<!-- å·¦ 70%ï¼šé¥¼å›¾ | å³ 30%ï¼šæ¦‚è¦ï¼ˆä¸Šï¼‰+ æ˜ç»†ï¼ˆä¸‹ï¼‰ -->
<div class="panel-row two-col two-col-side">
<!-- å·¦åˆ—ï¼šé¥¼å›¾ -->
<section class="panel" id="chartPanel">
<h2 class="panel-title" id="chartTitle">Route Distribution</h2>

<canvas height="320" id="pie"></canvas>
</section>
<!-- å³åˆ—ï¼šæ¦‚è¦ï¼ˆä¸Šï¼‰+ æ˜ç»†ï¼ˆä¸‹ï¼‰ -->
<div class="side-col">
<section class="panel" id="summaryPanel">
<h2 class="panel-title">Summary</h2>
<div class="summary" id="summary"></div>
</section>
<section class="panel" id="detailPanel">
<h2 class="panel-title">Details</h2>
<div class="table-wrap">
<table class="data-table">
<thead>
<tr>
<th>Tracking</th>
<th>Warehouse</th>
<th>DSP</th>
<th>Driver id</th>
<th># Route</th>
<th>Latest Status</th>
<th>Latest Update Time</th>
<th>#Days since last update</th>
</tr>
</thead>
<tbody id="tbody"></tbody>
</table>
</div>
</section>
</div>
</div>
</main>

<script src="routes_analytics.js"></script>
</body>
</html>
